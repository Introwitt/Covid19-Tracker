{"ast":null,"code":"var _jsxFileName = \"/Users/harsh/React Projects/Covid-19Tracker/covid19tracker/src/LineGraph.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nconst options = {\n  legend: {\n    display: false\n  },\n  elements: {\n    point: {\n      radius: 0\n    }\n  },\n  maintainAspectRatio: false,\n  tooltips: {\n    mode: 'index',\n    intersect: false,\n    callbacks: {\n      label: function (tooltipItem, data) {\n        return numeral(tooltipItem.value).format('+0,0');\n      }\n    }\n  }\n};\n\nfunction LineGraph() {\n  const [data, setData] = useState({});\n\n  const buildChartData = (data, casesType = 'cases') => {\n    const chartData = [];\n    let lastDataPoint;\n\n    for (let date in data[casesType]) {\n      if (lastDataPoint) {\n        const newDataPoint = {\n          x: date,\n          y: data[casesType][date] - lastDataPoint\n        };\n        chartData.push(newDataPoint);\n      }\n\n      lastDataPoint = data[casesType][date];\n    }\n\n    return chartData;\n  };\n\n  useEffect(() => {\n    fetch('https://disease.sh/v3/covid-19/historical/all?lastdays=120').then(response => response.json()).then(data => {\n      const chartData = buildChartData(data);\n      setData(chartData);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"I am chart\"), /*#__PURE__*/React.createElement(Line, {\n    data: {\n      datasets: [{\n        backgroundColor: 'rgba(204, 16, 52, 0.3)',\n        borderColor: '##C1034',\n        data: data\n      }]\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default LineGraph;","map":{"version":3,"sources":["/Users/harsh/React Projects/Covid-19Tracker/covid19tracker/src/LineGraph.js"],"names":["React","useState","useEffect","Line","options","legend","display","elements","point","radius","maintainAspectRatio","tooltips","mode","intersect","callbacks","label","tooltipItem","data","numeral","value","format","LineGraph","setData","buildChartData","casesType","chartData","lastDataPoint","date","newDataPoint","x","y","push","fetch","then","response","json","datasets","backgroundColor","borderColor"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,IAAR,QAAmB,iBAAnB;AAEA,MAAMC,OAAO,GAAG;AACZC,EAAAA,MAAM,EAAE;AACJC,IAAAA,OAAO,EAAC;AADJ,GADI;AAIZC,EAAAA,QAAQ,EAAC;AACLC,IAAAA,KAAK,EAAC;AACFC,MAAAA,MAAM,EAAC;AADL;AADD,GAJG;AASZC,EAAAA,mBAAmB,EAAE,KATT;AAUZC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,IAAI,EAAE,OADA;AAENC,IAAAA,SAAS,EAAE,KAFL;AAGNC,IAAAA,SAAS,EAAC;AACNC,MAAAA,KAAK,EAAE,UAASC,WAAT,EAAsBC,IAAtB,EAA2B;AAC9B,eAAOC,OAAO,CAACF,WAAW,CAACG,KAAb,CAAP,CAA2BC,MAA3B,CAAkC,MAAlC,CAAP;AACH;AAHK;AAHJ;AAVE,CAAhB;;AAqBA,SAASC,SAAT,GAAqB;AACjB,QAAM,CAACJ,IAAD,EAAOK,OAAP,IAAkBrB,QAAQ,CAAC,EAAD,CAAhC;;AAEA,QAAMsB,cAAc,GAAG,CAACN,IAAD,EAAOO,SAAS,GAAG,OAAnB,KAA8B;AACjD,UAAMC,SAAS,GAAG,EAAlB;AACA,QAAIC,aAAJ;;AACA,SAAI,IAAIC,IAAR,IAAgBV,IAAI,CAACO,SAAD,CAApB,EAAgC;AAC5B,UAAGE,aAAH,EAAiB;AACb,cAAME,YAAY,GAAG;AACjBC,UAAAA,CAAC,EAACF,IADe;AAEjBG,UAAAA,CAAC,EAAEb,IAAI,CAACO,SAAD,CAAJ,CAAgBG,IAAhB,IAAwBD;AAFV,SAArB;AAIAD,QAAAA,SAAS,CAACM,IAAV,CAAeH,YAAf;AACH;;AACDF,MAAAA,aAAa,GAAGT,IAAI,CAACO,SAAD,CAAJ,CAAgBG,IAAhB,CAAhB;AACH;;AAED,WAAOF,SAAP;AACH,GAfD;;AAkBAvB,EAAAA,SAAS,CAAC,MAAM;AACZ8B,IAAAA,KAAK,CAAC,4DAAD,CAAL,CACCC,IADD,CACMC,QAAQ,IAAGA,QAAQ,CAACC,IAAT,EADjB,EAECF,IAFD,CAEMhB,IAAI,IAAG;AACT,YAAMQ,SAAS,GAAGF,cAAc,CAACN,IAAD,CAAhC;AACAK,MAAAA,OAAO,CAACG,SAAD,CAAP;AACH,KALD;AAMH,GAPQ,EAON,EAPM,CAAT;AAUA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI,oBAAC,IAAD;AACI,IAAA,IAAI,EAAE;AACFW,MAAAA,QAAQ,EAAE,CAAC;AACPC,QAAAA,eAAe,EAAE,wBADV;AAEPC,QAAAA,WAAW,EAAE,SAFN;AAGPrB,QAAAA,IAAI,EAAEA;AAHC,OAAD;AADR,KADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ;AAiBH;;AAED,eAAeI,SAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Line} from 'react-chartjs-2';\n\nconst options = {\n    legend: {\n        display:false,\n    },\n    elements:{\n        point:{\n            radius:0,\n        },\n    },\n    maintainAspectRatio: false,\n    tooltips: {\n        mode: 'index',\n        intersect: false,\n        callbacks:{\n            label: function(tooltipItem, data){\n                return numeral(tooltipItem.value).format('+0,0');\n            },\n        },\n    }\n}\n\nfunction LineGraph() {\n    const [data, setData] = useState({});\n\n    const buildChartData = (data, casesType = 'cases') =>{\n        const chartData = [];\n        let lastDataPoint;\n        for(let date in data[casesType]){\n            if(lastDataPoint){\n                const newDataPoint = {\n                    x:date,\n                    y: data[casesType][date] - lastDataPoint\n                }\n                chartData.push(newDataPoint);\n            }\n            lastDataPoint = data[casesType][date];\n        }\n\n        return chartData;\n    }\n\n\n    useEffect(() => {\n        fetch('https://disease.sh/v3/covid-19/historical/all?lastdays=120')\n        .then(response =>response.json())\n        .then(data =>{\n            const chartData = buildChartData(data);\n            setData(chartData);\n        })\n    }, [])\n\n    \n    return (\n        <div>\n            \n            <h1>I am chart</h1>\n            <Line\n                data={{\n                    datasets: [{\n                        backgroundColor: 'rgba(204, 16, 52, 0.3)',\n                        borderColor: '##C1034',\n                        data: data\n                    }]\n                }}\n            \n             />\n            \n        </div>\n    )\n}\n\nexport default LineGraph\n"]},"metadata":{},"sourceType":"module"}